<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Scanner Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        #reader {
            width: 100%;
            border: none !important;
        }
        #reader__scan_region {
            background: white !important;
        }
    </style>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-4">

    <div class="max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden">
        <div class="bg-indigo-600 p-6 text-center">
            <h1 class="text-white text-2xl font-bold tracking-tight">QR Code Scanner</h1>
            <p class="text-indigo-100 text-sm mt-1">Point your camera at a code</p>
        </div>

        <div class="p-4">
            <div id="reader" class="overflow-hidden rounded-lg border-2 border-dashed border-slate-200"></div>
        </div>

        <div class="p-6 pt-0">
            <label for="result" class="block text-sm font-semibold text-slate-700 mb-2">Scanned Result:</label>
            <textarea 
                id="result" 
                rows="4" 
                class="w-full p-3 bg-slate-100 border border-slate-200 rounded-lg text-slate-800 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-all"
                placeholder="Results will appear here..."
                
            ></textarea>
            
            <button 
                onclick="clearResult()"
                class="mt-4 w-full py-2 px-4 bg-slate-200 hover:bg-slate-300 text-slate-700 font-medium rounded-lg transition-colors"
            >
                Clear Text
            </button>
        </div>
    </div>

    <script>
        function onScanSuccess(decodedText, decodedResult) {
            // Update the text box with the decoded content
            const resultElement = document.getElementById('result');
            resultElement.value = decodedText;
            
            // Optional: Vibrate on success (mobile only)
            if (navigator.vibrate) navigator.vibrate(100);
            
            console.log(`Code matched = ${decodedText}`, decodedResult);
        }

        function onScanFailure(error) {
            // We usually ignore errors here to avoid flooding the console 
            // as it scans continuously looking for a code
        }

        let html5QrcodeScanner = new Html5QrcodeScanner(
            "reader", 
            { 
                fps: 10, 
                qrbox: { width: 250, height: 250 },
                aspectRatio: 1.0 
            }, 
            /* verbose= */ false
        );

        html5QrcodeScanner.render(onScanSuccess, onScanFailure);

        function clearResult() {
            document.getElementById('result').value = '';
        }
    </script>
</body>
</html>